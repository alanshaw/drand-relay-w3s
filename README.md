# drand-relay-w3s

[![JavaScript Style Guide](https://img.shields.io/badge/code_style-standard-brightgreen.svg)](https://standardjs.com)

A drand relay that publishes randomness to IPFS, Filecoin and maintains an IPNS record pointing at the latest value.

The IPNS key to follow is: `k51qzi5uqu5dlcuzv5xhg1zqn48gobcvn2mx13uoig7zfj8rz6zvqdxsugka9z`

## Usage

Install dependencies:

```sh
npm install
```

Generate a signing key:

```sh
node generate-signing-key.js
```

Add `.env` file to repo root with the following contents:

```sh
W3S_TOKEN=<API_TOKEN>
W3S_NAME_SIGNING_KEY=<SIGNING_KEY>
```

* `<API_TOKEN>` should be replaced with an API token from https://web3.storage
* `<SIGNING_KEY>` should be replaced with the signing key as generated by `generate-signing-key.js`

Run the relay:

```sh
DEBUG=drand-relay-w3s node bin/start.js
```

### Docker

There's a `Dockerfile` that runs the relay in docker.

```sh
docker build -t drand-relay-w3s .
docker run -d drand-relay-w3s
```

## Contribute

Feel free to dive in! [Open an issue](https://github.com/alanshaw/drand-relay-w3s/issues/new) or submit PRs.

## License

[MIT](LICENSE) Â© Alan Shaw
